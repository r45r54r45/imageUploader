{"version":3,"sources":["../mysql.js"],"names":["query","queryEnd","pool","createPool","connectionLimit","host","user","password","database","multipleStatements","len","arguments","length","Promise","resolve","reject","err","rows","fields","end"],"mappings":";;;;;QAYgBA,K,GAAAA,K;QAsBAC,Q,GAAAA,Q;;AAlChB;;;;AACA;;;;;;AAEA,IAAMC,OAAO,gBAAMC,UAAN,CAAiB;AAC1BC,qBAAiB,GADS;AAE1BC,UAAM,gBAFoB;AAG1BC,UAAM,WAHoB;AAI1BC,cAAU,gBAJgB;AAK1BC,cAAU,WALgB;AAM1BC,wBAAoB;AANM,CAAjB,CAAb;;AASO,SAAST,KAAT,GAAiB;AAAA;;AACpB,QAAMU,MAAMC,UAAUC,MAAtB;AACA,QAAIF,QAAQ,CAAZ,EAAe;AACX,eAAO,IAAIG,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCb,iBAAKF,KAAL,gCAAc,YAAE,WAAU,CAAV,CAAF,EAAgB,EAAhB,CAAd,UAAmC,UAACgB,GAAD,EAAMC,IAAN,EAAYC,MAAZ,EAAuB;AACtD,oBAAIF,GAAJ,EAAQ;AACJD,2BAAOC,GAAP;AACH;AACDF,wBAAQG,IAAR;AACH,aALD;AAMH,SAPM,CAAP;AAQH,KATD,MASO,IAAIP,QAAQ,CAAZ,EAAe;AAClB,eAAO,IAAIG,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCb,iBAAKF,KAAL,gCAAc,YAAE,WAAU,CAAV,CAAF,EAAgB,WAAU,CAAV,CAAhB,CAAd,UAA6C,UAACgB,GAAD,EAAMC,IAAN,EAAYC,MAAZ,EAAuB;AAChE,oBAAIF,GAAJ,EAAQ;AACJD,2BAAOC,GAAP;AACH;AACDF,wBAAQG,IAAR;AACH,aALD;AAMH,SAPM,CAAP;AAQH;AACJ;AACM,SAAShB,QAAT,GAAmB;AACtBC,SAAKiB,GAAL;AACH","file":"mysql.js","sourcesContent":["import mysql from 'mysql';\nimport { q } from './sql';\n\nconst pool = mysql.createPool({\n    connectionLimit: 100,\n    host: '104.199.128.25',\n    user: 'apiServer',\n    password: 'shugazine2017!',\n    database: 'shugazine',\n    multipleStatements: true,\n});\n\nexport function query() {\n    const len = arguments.length;\n    if (len === 1) {\n        return new Promise((resolve, reject) => {\n            pool.query(...q(arguments[0], []), (err, rows, fields) => {\n                if (err){\n                    reject(err);\n                }\n                resolve(rows);\n            });\n        });\n    } else if (len === 2) {\n        return new Promise((resolve, reject) => {\n            pool.query(...q(arguments[0], arguments[1]), (err, rows, fields) => {\n                if (err){\n                    reject(err);\n                }\n                resolve(rows);\n            });\n        });\n    }\n}\nexport function queryEnd(){\n    pool.end();\n}"]}