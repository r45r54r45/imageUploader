{"version":3,"sources":["../sql.js"],"names":["q","sql","dataArr","query","push","occurrences","length","console","log","toString","Error","string","subString","allowOverlapping","n","pos","step","indexOf"],"mappings":";;;;;QAAgBA,C,GAAAA,C;AAAT,SAASA,CAAT,CAAWC,GAAX,EAAgBC,OAAhB,EAAyB;AAC9B,MAAMC,QAAQ,EAAd;AACAA,QAAMC,IAAN,CAAWH,GAAX;;AAEA,MAAIC,OAAJ,EAAa;AACX,QAAIG,YAAYJ,GAAZ,EAAiB,GAAjB,KAAyBC,QAAQI,MAArC,EAA6C;AACzCC,cAAQC,GAAR,CAAY,WAAZ;AACAD,cAAQC,GAAR,CAAYP,GAAZ;AACAM,cAAQC,GAAR,CAAYN,QAAQO,QAAR,EAAZ;AACAF,cAAQC,GAAR,CAAY,WAAZ;AACFL,YAAMC,IAAN,CAAWF,OAAX;AACD,KAND,MAMO;AACL,YAAM,IAAIQ,KAAJ,4DAA2BT,GAA3B,CAAN;AACD;AACF;AACD,SAAOE,KAAP;AACD;;AAED,SAASE,WAAT,CAAqBM,MAArB,EAA6BC,SAA7B,EAAwCC,gBAAxC,EAA0D;AACxDF,YAAU,EAAV;AACAC,eAAa,EAAb;AACA,MAAIA,UAAUN,MAAV,IAAoB,CAAxB,EAA2B,OAAQK,OAAOL,MAAP,GAAgB,CAAxB;;AAE3B,MAAIQ,IAAI,CAAR;AAAA,MACEC,MAAM,CADR;AAAA,MAEEC,OAAOH,mBAAmB,CAAnB,GAAuBD,UAAUN,MAF1C;;AAIA,SAAO,IAAP,EAAa;AACXS,UAAMJ,OAAOM,OAAP,CAAeL,SAAf,EAA0BG,GAA1B,CAAN;AACA,QAAIA,OAAO,CAAX,EAAc;AACZ,QAAED,CAAF;AACAC,aAAOC,IAAP;AACD,KAHD,MAGO;AACR;AACD,SAAOF,CAAP;AACD","file":"sql.js","sourcesContent":["export function q(sql, dataArr) {\n  const query = [];\n  query.push(sql);\n\n  if (dataArr) {\n    if (occurrences(sql, '?') == dataArr.length) {\n        console.log(\"---------\");\n        console.log(sql);\n        console.log(dataArr.toString());\n        console.log(\"---------\");\n      query.push(dataArr);\n    } else {\n      throw new Error(`쿼리 파라미터 오류 \\n ${sql}`);\n    }\n  }\n  return query;\n}\n\nfunction occurrences(string, subString, allowOverlapping) {\n  string += '';\n  subString += '';\n  if (subString.length <= 0) return (string.length + 1);\n\n  let n = 0,\n    pos = 0,\n    step = allowOverlapping ? 1 : subString.length;\n\n  while (true) {\n    pos = string.indexOf(subString, pos);\n    if (pos >= 0) {\n      ++n;\n      pos += step;\n    } else break;\n  }\n  return n;\n}\n"]}